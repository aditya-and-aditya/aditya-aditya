module.exports=[60691,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.assertNever=function(e){throw Error(`Unexpected value should never occur: ${e}`)},a.pick=function(e,t){return Object.fromEntries(t.map(t=>[t,null==e?void 0:e[t]]))},a.isObject=function(e){return"object"==typeof e&&null!==e}},22930,(e,t,a)=>{"use strict";var r,o;Object.defineProperty(a,"__esModule",{value:!0}),a.LogLevel=void 0,a.makeConsoleLogger=function(e){return(t,a,r)=>{console[t](`${e} ${t}:`,a,r)}},a.logLevelSeverity=function(e){switch(e){case r.DEBUG:return 20;case r.INFO:return 40;case r.WARN:return 60;case r.ERROR:return 80;default:return(0,s.assertNever)(e)}};let s=e.r(60691);(o=r||(a.LogLevel=r={})).DEBUG="debug",o.INFO="info",o.WARN="warn",o.ERROR="error"},72981,(e,t,a)=>{"use strict";var r,o,s,i;Object.defineProperty(a,"__esModule",{value:!0}),a.APIResponseError=a.UnknownHTTPResponseError=a.RequestTimeoutError=a.ClientErrorCode=a.APIErrorCode=void 0,a.isNotionClientError=l,a.isHTTPResponseError=function(e){return!!d(e,h)},a.buildRequestError=function(e,t){let a=function(e){var t;let a;if("string"!=typeof e)return;try{a=JSON.parse(e)}catch(e){return}if(!(0,n.isObject)(a)||"string"!=typeof a.message||!("string"==typeof(t=a.code)&&t in y))return;let r=a.additional_data,o=a.request_id;return{...a,code:a.code,message:a.message,additional_data:r,request_id:o}}(t);return void 0!==a?new P({code:a.code,message:a.message,headers:e.headers,status:e.status,rawBodyText:t,additional_data:a.additional_data,request_id:a.request_id}):new m({message:void 0,headers:e.headers,status:e.status,rawBodyText:t})};let n=e.r(60691);(s=r||(a.APIErrorCode=r={})).Unauthorized="unauthorized",s.RestrictedResource="restricted_resource",s.ObjectNotFound="object_not_found",s.RateLimited="rate_limited",s.InvalidJSON="invalid_json",s.InvalidRequestURL="invalid_request_url",s.InvalidRequest="invalid_request",s.ValidationError="validation_error",s.ConflictError="conflict_error",s.InternalServerError="internal_server_error",s.ServiceUnavailable="service_unavailable",(i=o||(a.ClientErrorCode=o={})).RequestTimeout="notionhq_client_request_timeout",i.ResponseError="notionhq_client_response_error";class u extends Error{}function l(e){return(0,n.isObject)(e)&&e instanceof u}function d(e,t){return l(e)&&e.code in t}class c extends u{constructor(e="Request to Notion API has timed out"){super(e),this.code=o.RequestTimeout,this.name="RequestTimeoutError"}static isRequestTimeoutError(e){return d(e,{[o.RequestTimeout]:!0})}static rejectAfterTimeout(e,t){return new Promise((a,r)=>{let o=setTimeout(()=>{r(new c)},t);e.then(a).catch(r).then(()=>clearTimeout(o))})}}a.RequestTimeoutError=c;class p extends u{constructor(e){super(e.message),this.name="HTTPResponseError";const{code:t,status:a,headers:r,rawBodyText:o,additional_data:s,request_id:i}=e;this.code=t,this.status=a,this.headers=r,this.body=o,this.additional_data=s,this.request_id=i}}let h={[o.ResponseError]:!0,[r.Unauthorized]:!0,[r.RestrictedResource]:!0,[r.ObjectNotFound]:!0,[r.RateLimited]:!0,[r.InvalidJSON]:!0,[r.InvalidRequestURL]:!0,[r.InvalidRequest]:!0,[r.ValidationError]:!0,[r.ConflictError]:!0,[r.InternalServerError]:!0,[r.ServiceUnavailable]:!0};class m extends p{constructor(e){var t;super({...e,code:o.ResponseError,message:null!=(t=e.message)?t:`Request to Notion API failed with status: ${e.status}`,additional_data:void 0,request_id:void 0}),this.name="UnknownHTTPResponseError"}static isUnknownHTTPResponseError(e){return d(e,{[o.ResponseError]:!0})}}a.UnknownHTTPResponseError=m;let y={[r.Unauthorized]:!0,[r.RestrictedResource]:!0,[r.ObjectNotFound]:!0,[r.RateLimited]:!0,[r.InvalidJSON]:!0,[r.InvalidRequestURL]:!0,[r.InvalidRequest]:!0,[r.ValidationError]:!0,[r.ConflictError]:!0,[r.InternalServerError]:!0,[r.ServiceUnavailable]:!0};class P extends p{constructor(){super(...arguments),this.name="APIResponseError"}static isAPIResponseError(e){return d(e,y)}}a.APIResponseError=P},97204,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.movePage=a.oauthIntrospect=a.oauthRevoke=a.oauthToken=a.getFileUpload=a.completeFileUpload=a.sendFileUpload=a.listFileUploads=a.createFileUpload=a.getComment=a.listComments=a.createComment=a.search=a.createDatabase=a.updateDatabase=a.getDatabase=a.listDataSourceTemplates=a.createDataSource=a.queryDataSource=a.updateDataSource=a.getDataSource=a.appendBlockChildren=a.listBlockChildren=a.deleteBlock=a.updateBlock=a.getBlock=a.getPageProperty=a.updatePage=a.getPage=a.createPage=a.listUsers=a.getUser=a.getSelf=void 0,a.getSelf={method:"get",pathParams:[],queryParams:[],bodyParams:[],path:()=>"users/me"},a.getUser={method:"get",pathParams:["user_id"],queryParams:[],bodyParams:[],path:e=>`users/${e.user_id}`},a.listUsers={method:"get",pathParams:[],queryParams:["start_cursor","page_size"],bodyParams:[],path:()=>"users"},a.createPage={method:"post",pathParams:[],queryParams:[],bodyParams:["parent","properties","icon","cover","content","children","template"],path:()=>"pages"},a.getPage={method:"get",pathParams:["page_id"],queryParams:["filter_properties"],bodyParams:[],path:e=>`pages/${e.page_id}`},a.updatePage={method:"patch",pathParams:["page_id"],queryParams:[],bodyParams:["properties","icon","cover","is_locked","template","erase_content","archived","in_trash"],path:e=>`pages/${e.page_id}`},a.getPageProperty={method:"get",pathParams:["page_id","property_id"],queryParams:["start_cursor","page_size"],bodyParams:[],path:e=>`pages/${e.page_id}/properties/${e.property_id}`},a.getBlock={method:"get",pathParams:["block_id"],queryParams:[],bodyParams:[],path:e=>`blocks/${e.block_id}`},a.updateBlock={method:"patch",pathParams:["block_id"],queryParams:[],bodyParams:["embed","type","archived","in_trash","bookmark","image","video","pdf","file","audio","code","equation","divider","breadcrumb","table_of_contents","link_to_page","table_row","heading_1","heading_2","heading_3","paragraph","bulleted_list_item","numbered_list_item","quote","to_do","toggle","template","callout","synced_block","table","column"],path:e=>`blocks/${e.block_id}`},a.deleteBlock={method:"delete",pathParams:["block_id"],queryParams:[],bodyParams:[],path:e=>`blocks/${e.block_id}`},a.listBlockChildren={method:"get",pathParams:["block_id"],queryParams:["start_cursor","page_size"],bodyParams:[],path:e=>`blocks/${e.block_id}/children`},a.appendBlockChildren={method:"patch",pathParams:["block_id"],queryParams:[],bodyParams:["children","after"],path:e=>`blocks/${e.block_id}/children`},a.getDataSource={method:"get",pathParams:["data_source_id"],queryParams:[],bodyParams:[],path:e=>`data_sources/${e.data_source_id}`},a.updateDataSource={method:"patch",pathParams:["data_source_id"],queryParams:[],bodyParams:["title","icon","properties","in_trash","archived","parent"],path:e=>`data_sources/${e.data_source_id}`},a.queryDataSource={method:"post",pathParams:["data_source_id"],queryParams:["filter_properties"],bodyParams:["sorts","filter","start_cursor","page_size","archived","in_trash","result_type"],path:e=>`data_sources/${e.data_source_id}/query`},a.createDataSource={method:"post",pathParams:[],queryParams:[],bodyParams:["parent","properties","title","icon"],path:()=>"data_sources"},a.listDataSourceTemplates={method:"get",pathParams:["data_source_id"],queryParams:["name","start_cursor","page_size"],bodyParams:[],path:e=>`data_sources/${e.data_source_id}/templates`},a.getDatabase={method:"get",pathParams:["database_id"],queryParams:[],bodyParams:[],path:e=>`databases/${e.database_id}`},a.updateDatabase={method:"patch",pathParams:["database_id"],queryParams:[],bodyParams:["parent","title","description","is_inline","icon","cover","in_trash","is_locked"],path:e=>`databases/${e.database_id}`},a.createDatabase={method:"post",pathParams:[],queryParams:[],bodyParams:["parent","title","description","is_inline","initial_data_source","icon","cover"],path:()=>"databases"},a.search={method:"post",pathParams:[],queryParams:[],bodyParams:["sort","query","start_cursor","page_size","filter"],path:()=>"search"},a.createComment={method:"post",pathParams:[],queryParams:[],bodyParams:["rich_text","attachments","display_name","parent","discussion_id"],path:()=>"comments"},a.listComments={method:"get",pathParams:[],queryParams:["block_id","start_cursor","page_size"],bodyParams:[],path:()=>"comments"},a.getComment={method:"get",pathParams:["comment_id"],queryParams:[],bodyParams:[],path:e=>`comments/${e.comment_id}`},a.createFileUpload={method:"post",pathParams:[],queryParams:[],bodyParams:["mode","filename","content_type","number_of_parts","external_url"],path:()=>"file_uploads"},a.listFileUploads={method:"get",pathParams:[],queryParams:["status","start_cursor","page_size"],bodyParams:[],path:()=>"file_uploads"},a.sendFileUpload={method:"post",pathParams:["file_upload_id"],queryParams:[],bodyParams:[],formDataParams:["file","part_number"],path:e=>`file_uploads/${e.file_upload_id}/send`},a.completeFileUpload={method:"post",pathParams:["file_upload_id"],queryParams:[],bodyParams:[],path:e=>`file_uploads/${e.file_upload_id}/complete`},a.getFileUpload={method:"get",pathParams:["file_upload_id"],queryParams:[],bodyParams:[],path:e=>`file_uploads/${e.file_upload_id}`},a.oauthToken={method:"post",pathParams:[],queryParams:[],bodyParams:["grant_type","code","redirect_uri","external_account","refresh_token"],path:()=>"oauth/token"},a.oauthRevoke={method:"post",pathParams:[],queryParams:[],bodyParams:["token"],path:()=>"oauth/revoke"},a.oauthIntrospect={method:"post",pathParams:[],queryParams:[],bodyParams:["token"],path:()=>"oauth/introspect"},a.movePage={method:"post",pathParams:["page_id"],queryParams:[],bodyParams:["parent"],path:e=>`pages/${e.page_id}/move`}},25463,e=>{e.v({name:"@notionhq/client",version:"5.4.0",description:"A simple and easy to use client for the Notion API",engines:{node:">=18"},homepage:"https://developers.notion.com/docs/getting-started",bugs:{url:"https://github.com/makenotion/notion-sdk-js/issues"},repository:{type:"git",url:"https://github.com/makenotion/notion-sdk-js/"},keywords:["notion","notionapi","rest","notion-api"],main:"./build/src",types:"./build/src/index.d.ts",scripts:{prepare:"npm run build",prepublishOnly:"npm run checkLoggedIn && npm run lint && npm run test",build:"tsc",prettier:"prettier --write .",lint:"prettier --check . && eslint . --ext .ts && cspell '**/*' ",test:"jest ./test","check-links":"git ls-files | grep md$ | xargs -n 1 markdown-link-check",prebuild:"npm run clean",clean:"rm -rf ./build",checkLoggedIn:"./scripts/verifyLoggedIn.sh","install:examples":'for dir in examples/*/; do echo "Installing dependencies in $dir..."; (cd "$dir" && npm install); done',"examples:install":"npm run install:examples","examples:typecheck":'for dir in examples/*/; do echo "Typechecking $dir..."; (cd "$dir" && npx tsc --noEmit) || exit 1; done'},author:"",license:"MIT",files:["build/package.json","build/src/**"],devDependencies:{"@types/jest":"28.1.4","@typescript-eslint/eslint-plugin":"5.39.0","@typescript-eslint/parser":"5.39.0",cspell:"5.4.1",eslint:"7.24.0",jest:"28.1.2","markdown-link-check":"3.13.7",prettier:"2.8.8","ts-jest":"28.0.5",typescript:"5.9.2"}})},2862,(e,t,a)=>{"use strict";var r,o,s,i,n,u,l,d,c,p=e.e&&e.e.__classPrivateFieldSet||function(e,t,a,r,o){if("m"===r)throw TypeError("Private method is not writable");if("a"===r&&!o)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,a):o?o.value=a:t.set(e,a),a},h=e.e&&e.e.__classPrivateFieldGet||function(e,t,a,r){if("a"===a&&!r)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?r:"a"===a?r.call(e):r?r.value:t.get(e)};Object.defineProperty(a,"__esModule",{value:!0});let m=e.r(22930),y=e.r(72981),P=e.r(60691),b=e.r(97204),g=e.r(25463);class f{constructor(e){var t,a,h,y,_,v;r.set(this,void 0),o.set(this,void 0),s.set(this,void 0),i.set(this,void 0),n.set(this,void 0),u.set(this,void 0),l.set(this,void 0),d.set(this,void 0),c.set(this,void 0),this.blocks={retrieve:e=>this.request({path:b.getBlock.path(e),method:b.getBlock.method,query:(0,P.pick)(e,b.getBlock.queryParams),body:(0,P.pick)(e,b.getBlock.bodyParams),auth:null==e?void 0:e.auth}),update:e=>this.request({path:b.updateBlock.path(e),method:b.updateBlock.method,query:(0,P.pick)(e,b.updateBlock.queryParams),body:(0,P.pick)(e,b.updateBlock.bodyParams),auth:null==e?void 0:e.auth}),delete:e=>this.request({path:b.deleteBlock.path(e),method:b.deleteBlock.method,query:(0,P.pick)(e,b.deleteBlock.queryParams),body:(0,P.pick)(e,b.deleteBlock.bodyParams),auth:null==e?void 0:e.auth}),children:{append:e=>this.request({path:b.appendBlockChildren.path(e),method:b.appendBlockChildren.method,query:(0,P.pick)(e,b.appendBlockChildren.queryParams),body:(0,P.pick)(e,b.appendBlockChildren.bodyParams),auth:null==e?void 0:e.auth}),list:e=>this.request({path:b.listBlockChildren.path(e),method:b.listBlockChildren.method,query:(0,P.pick)(e,b.listBlockChildren.queryParams),body:(0,P.pick)(e,b.listBlockChildren.bodyParams),auth:null==e?void 0:e.auth})}},this.databases={retrieve:e=>this.request({path:b.getDatabase.path(e),method:b.getDatabase.method,query:(0,P.pick)(e,b.getDatabase.queryParams),body:(0,P.pick)(e,b.getDatabase.bodyParams),auth:null==e?void 0:e.auth}),create:e=>this.request({path:b.createDatabase.path(),method:b.createDatabase.method,query:(0,P.pick)(e,b.createDatabase.queryParams),body:(0,P.pick)(e,b.createDatabase.bodyParams),auth:null==e?void 0:e.auth}),update:e=>this.request({path:b.updateDatabase.path(e),method:b.updateDatabase.method,query:(0,P.pick)(e,b.updateDatabase.queryParams),body:(0,P.pick)(e,b.updateDatabase.bodyParams),auth:null==e?void 0:e.auth})},this.dataSources={retrieve:e=>this.request({path:b.getDataSource.path(e),method:b.getDataSource.method,query:(0,P.pick)(e,b.getDataSource.queryParams),body:(0,P.pick)(e,b.getDataSource.bodyParams),auth:null==e?void 0:e.auth}),query:e=>this.request({path:b.queryDataSource.path(e),method:b.queryDataSource.method,query:(0,P.pick)(e,b.queryDataSource.queryParams),body:(0,P.pick)(e,b.queryDataSource.bodyParams),auth:null==e?void 0:e.auth}),create:e=>this.request({path:b.createDataSource.path(),method:b.createDataSource.method,query:(0,P.pick)(e,b.createDataSource.queryParams),body:(0,P.pick)(e,b.createDataSource.bodyParams),auth:null==e?void 0:e.auth}),update:e=>this.request({path:b.updateDataSource.path(e),method:b.updateDataSource.method,query:(0,P.pick)(e,b.updateDataSource.queryParams),body:(0,P.pick)(e,b.updateDataSource.bodyParams),auth:null==e?void 0:e.auth}),listTemplates:e=>this.request({path:b.listDataSourceTemplates.path(e),method:b.listDataSourceTemplates.method,query:(0,P.pick)(e,b.listDataSourceTemplates.queryParams),body:(0,P.pick)(e,b.listDataSourceTemplates.bodyParams),auth:null==e?void 0:e.auth})},this.pages={create:e=>this.request({path:b.createPage.path(),method:b.createPage.method,query:(0,P.pick)(e,b.createPage.queryParams),body:(0,P.pick)(e,b.createPage.bodyParams),auth:null==e?void 0:e.auth}),retrieve:e=>this.request({path:b.getPage.path(e),method:b.getPage.method,query:(0,P.pick)(e,b.getPage.queryParams),body:(0,P.pick)(e,b.getPage.bodyParams),auth:null==e?void 0:e.auth}),update:e=>this.request({path:b.updatePage.path(e),method:b.updatePage.method,query:(0,P.pick)(e,b.updatePage.queryParams),body:(0,P.pick)(e,b.updatePage.bodyParams),auth:null==e?void 0:e.auth}),properties:{retrieve:e=>this.request({path:b.getPageProperty.path(e),method:b.getPageProperty.method,query:(0,P.pick)(e,b.getPageProperty.queryParams),body:(0,P.pick)(e,b.getPageProperty.bodyParams),auth:null==e?void 0:e.auth})}},this.users={retrieve:e=>this.request({path:b.getUser.path(e),method:b.getUser.method,query:(0,P.pick)(e,b.getUser.queryParams),body:(0,P.pick)(e,b.getUser.bodyParams),auth:null==e?void 0:e.auth}),list:e=>this.request({path:b.listUsers.path(),method:b.listUsers.method,query:(0,P.pick)(e,b.listUsers.queryParams),body:(0,P.pick)(e,b.listUsers.bodyParams),auth:null==e?void 0:e.auth}),me:e=>this.request({path:b.getSelf.path(),method:b.getSelf.method,query:(0,P.pick)(e,b.getSelf.queryParams),body:(0,P.pick)(e,b.getSelf.bodyParams),auth:null==e?void 0:e.auth})},this.comments={create:e=>this.request({path:b.createComment.path(),method:b.createComment.method,query:(0,P.pick)(e,b.createComment.queryParams),body:(0,P.pick)(e,b.createComment.bodyParams),auth:null==e?void 0:e.auth}),list:e=>this.request({path:b.listComments.path(),method:b.listComments.method,query:(0,P.pick)(e,b.listComments.queryParams),body:(0,P.pick)(e,b.listComments.bodyParams),auth:null==e?void 0:e.auth}),retrieve:e=>this.request({path:b.getComment.path(e),method:b.getComment.method,query:(0,P.pick)(e,b.getComment.queryParams),body:(0,P.pick)(e,b.getComment.bodyParams),auth:null==e?void 0:e.auth})},this.fileUploads={create:e=>this.request({path:b.createFileUpload.path(),method:b.createFileUpload.method,query:(0,P.pick)(e,b.createFileUpload.queryParams),body:(0,P.pick)(e,b.createFileUpload.bodyParams),auth:null==e?void 0:e.auth}),retrieve:e=>this.request({path:b.getFileUpload.path(e),method:b.getFileUpload.method,query:(0,P.pick)(e,b.getFileUpload.queryParams),auth:null==e?void 0:e.auth}),list:e=>this.request({path:b.listFileUploads.path(),method:b.listFileUploads.method,query:(0,P.pick)(e,b.listFileUploads.queryParams),auth:null==e?void 0:e.auth}),send:e=>this.request({path:b.sendFileUpload.path(e),method:b.sendFileUpload.method,query:(0,P.pick)(e,b.sendFileUpload.queryParams),formDataParams:(0,P.pick)(e,b.sendFileUpload.formDataParams),auth:null==e?void 0:e.auth}),complete:e=>this.request({path:b.completeFileUpload.path(e),method:b.completeFileUpload.method,query:(0,P.pick)(e,b.completeFileUpload.queryParams),auth:null==e?void 0:e.auth})},this.search=e=>this.request({path:b.search.path(),method:b.search.method,query:(0,P.pick)(e,b.search.queryParams),body:(0,P.pick)(e,b.search.bodyParams),auth:null==e?void 0:e.auth}),this.oauth={token:e=>this.request({path:b.oauthToken.path(),method:b.oauthToken.method,query:(0,P.pick)(e,b.oauthToken.queryParams),body:(0,P.pick)(e,b.oauthToken.bodyParams),auth:{client_id:e.client_id,client_secret:e.client_secret}}),introspect:e=>this.request({path:b.oauthIntrospect.path(),method:b.oauthIntrospect.method,query:(0,P.pick)(e,b.oauthIntrospect.queryParams),body:(0,P.pick)(e,b.oauthIntrospect.bodyParams),auth:{client_id:e.client_id,client_secret:e.client_secret}}),revoke:e=>this.request({path:b.oauthRevoke.path(),method:b.oauthRevoke.method,query:(0,P.pick)(e,b.oauthRevoke.queryParams),body:(0,P.pick)(e,b.oauthRevoke.bodyParams),auth:{client_id:e.client_id,client_secret:e.client_secret}})},p(this,r,null==e?void 0:e.auth,"f"),p(this,o,null!=(t=null==e?void 0:e.logLevel)?t:m.LogLevel.WARN,"f"),p(this,s,null!=(a=null==e?void 0:e.logger)?a:(0,m.makeConsoleLogger)(g.name),"f"),p(this,i,`${null!=(h=null==e?void 0:e.baseUrl)?h:"https://api.notion.com"}/v1/`,"f"),p(this,n,null!=(y=null==e?void 0:e.timeoutMs)?y:6e4,"f"),p(this,u,null!=(_=null==e?void 0:e.notionVersion)?_:f.defaultNotionVersion,"f"),p(this,l,null!=(v=null==e?void 0:e.fetch)?v:fetch,"f"),p(this,d,null==e?void 0:e.agent,"f"),p(this,c,`notionhq-client/${g.version}`,"f")}async request(e){let t,a,{path:r,method:o,query:s,body:p,formDataParams:P,auth:b}=e;this.log(m.LogLevel.INFO,"request start",{method:o,path:r});let g=p&&0!==Object.entries(p).length?JSON.stringify(p):void 0,f=new URL(`${h(this,i,"f")}${r}`);if(s){for(let[e,t]of Object.entries(s))if(void 0!==t)if(Array.isArray(t))for(let a of t)f.searchParams.append(e,decodeURIComponent(a));else f.searchParams.append(e,String(t))}if("object"==typeof b){let e=`${b.client_id}:${b.client_secret}`,a=Buffer.from(e).toString("base64");t={authorization:`Basic ${a}`}}else t=this.authAsHeaders(b);let _={...e.headers,...t,"Notion-Version":h(this,u,"f"),"user-agent":h(this,c,"f")};if(void 0!==g&&(_["content-type"]="application/json"),P)for(let[e,t]of(delete _["content-type"],a=new FormData,Object.entries(P)))"string"==typeof t?a.append(e,t):"object"==typeof t&&a.append(e,"object"==typeof t.data?t.data:new Blob([t.data]),t.filename);try{let e=await y.RequestTimeoutError.rejectAfterTimeout(h(this,l,"f").call(this,f.toString(),{method:o.toUpperCase(),headers:_,body:null!=g?g:a,agent:h(this,d,"f")}),h(this,n,"f")),t=await e.text();if(!e.ok)throw(0,y.buildRequestError)(e,t);let s=JSON.parse(t);return this.log(m.LogLevel.INFO,"request success",{method:o,path:r,..."request_id"in s&&s.request_id?{requestId:s.request_id}:{}}),s}catch(e){if(!(0,y.isNotionClientError)(e))throw e;throw this.log(m.LogLevel.WARN,"request fail",{code:e.code,message:e.message,..."request_id"in e&&e.request_id?{requestId:e.request_id}:{}}),(0,y.isHTTPResponseError)(e)&&this.log(m.LogLevel.DEBUG,"failed response body",{body:e.body}),e}}log(e,t,a){(0,m.logLevelSeverity)(e)>=(0,m.logLevelSeverity)(h(this,o,"f"))&&h(this,s,"f").call(this,e,t,a)}authAsHeaders(e){let t={},a=null!=e?e:h(this,r,"f");return void 0!==a&&(t.authorization=`Bearer ${a}`),t}}r=new WeakMap,o=new WeakMap,s=new WeakMap,i=new WeakMap,n=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakMap,f.defaultNotionVersion="2025-09-03",a.default=f},87049,(e,t,a)=>{"use strict";async function*r(e,t){let a=t.start_cursor;do{let r=await e({...t,start_cursor:a});yield*r.results,a=r.next_cursor}while(a)}async function o(e,t){let a=[];for await(let o of r(e,t))a.push(o);return a}async function*s(e,t){let a=t.start_cursor;do{let r=await e.dataSources.listTemplates({...t,start_cursor:a});yield*r.templates,a=r.next_cursor}while(a)}async function i(e,t){let a=[];for await(let r of s(e,t))a.push(r);return a}function n(e){return"page"===e.object&&"url"in e}function u(e){return"data_source"===e.object}function l(e){if(!e||"string"!=typeof e)return null;let t=e.trim();if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))return t.toLowerCase();if(/^[0-9a-f]{32}$/i.test(t))return d(t);let a=t.match(/\/[^/?#]*-([0-9a-f]{32})(?:[/?#]|$)/i);if(a&&a[1])return d(a[1]);let r=t.match(/[?&](?:p|page_id|database_id)=([0-9a-f]{32})/i);if(r&&r[1])return d(r[1]);let o=t.match(/([0-9a-f]{32})/i);return o&&o[1]?d(o[1]):null}function d(e){let t=e.toLowerCase();return`${t.slice(0,8)}-${t.slice(8,12)}-${t.slice(12,16)}-${t.slice(16,20)}-${t.slice(20,32)}`}Object.defineProperty(a,"__esModule",{value:!0}),a.iteratePaginatedAPI=r,a.collectPaginatedAPI=o,a.iterateDataSourceTemplates=s,a.collectDataSourceTemplates=i,a.isFullBlock=function(e){return"block"===e.object&&"type"in e},a.isFullPage=n,a.isFullDataSource=u,a.isFullDatabase=function(e){return"database"===e.object},a.isFullPageOrDataSource=function(e){return"data_source"===e.object?u(e):n(e)},a.isFullUser=function(e){return"type"in e},a.isFullComment=function(e){return"created_by"in e},a.isTextRichTextItemResponse=function(e){return"text"===e.type},a.isEquationRichTextItemResponse=function(e){return"equation"===e.type},a.isMentionRichTextItemResponse=function(e){return"mention"===e.type},a.extractNotionId=l,a.extractDatabaseId=function(e){return l(e)},a.extractPageId=function(e){return l(e)},a.extractBlockId=function(e){if(!e||"string"!=typeof e)return null;let t=e.match(/#(?:block-)?([0-9a-f]{32})/i);return t&&t[1]?d(t[1]):null}},28749,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.extractBlockId=a.extractPageId=a.extractDatabaseId=a.extractNotionId=a.isFullPageOrDataSource=a.isFullComment=a.isFullUser=a.isFullPage=a.isFullDatabase=a.isFullDataSource=a.isFullBlock=a.iterateDataSourceTemplates=a.collectDataSourceTemplates=a.iteratePaginatedAPI=a.collectPaginatedAPI=a.isNotionClientError=a.RequestTimeoutError=a.UnknownHTTPResponseError=a.APIResponseError=a.ClientErrorCode=a.APIErrorCode=a.LogLevel=a.Client=void 0;var r=e.r(2862);Object.defineProperty(a,"Client",{enumerable:!0,get:function(){return r.default}});var o=e.r(22930);Object.defineProperty(a,"LogLevel",{enumerable:!0,get:function(){return o.LogLevel}});var s=e.r(72981);Object.defineProperty(a,"APIErrorCode",{enumerable:!0,get:function(){return s.APIErrorCode}}),Object.defineProperty(a,"ClientErrorCode",{enumerable:!0,get:function(){return s.ClientErrorCode}}),Object.defineProperty(a,"APIResponseError",{enumerable:!0,get:function(){return s.APIResponseError}}),Object.defineProperty(a,"UnknownHTTPResponseError",{enumerable:!0,get:function(){return s.UnknownHTTPResponseError}}),Object.defineProperty(a,"RequestTimeoutError",{enumerable:!0,get:function(){return s.RequestTimeoutError}}),Object.defineProperty(a,"isNotionClientError",{enumerable:!0,get:function(){return s.isNotionClientError}});var i=e.r(87049);Object.defineProperty(a,"collectPaginatedAPI",{enumerable:!0,get:function(){return i.collectPaginatedAPI}}),Object.defineProperty(a,"iteratePaginatedAPI",{enumerable:!0,get:function(){return i.iteratePaginatedAPI}}),Object.defineProperty(a,"collectDataSourceTemplates",{enumerable:!0,get:function(){return i.collectDataSourceTemplates}}),Object.defineProperty(a,"iterateDataSourceTemplates",{enumerable:!0,get:function(){return i.iterateDataSourceTemplates}}),Object.defineProperty(a,"isFullBlock",{enumerable:!0,get:function(){return i.isFullBlock}}),Object.defineProperty(a,"isFullDataSource",{enumerable:!0,get:function(){return i.isFullDataSource}}),Object.defineProperty(a,"isFullDatabase",{enumerable:!0,get:function(){return i.isFullDatabase}}),Object.defineProperty(a,"isFullPage",{enumerable:!0,get:function(){return i.isFullPage}}),Object.defineProperty(a,"isFullUser",{enumerable:!0,get:function(){return i.isFullUser}}),Object.defineProperty(a,"isFullComment",{enumerable:!0,get:function(){return i.isFullComment}}),Object.defineProperty(a,"isFullPageOrDataSource",{enumerable:!0,get:function(){return i.isFullPageOrDataSource}}),Object.defineProperty(a,"extractNotionId",{enumerable:!0,get:function(){return i.extractNotionId}}),Object.defineProperty(a,"extractDatabaseId",{enumerable:!0,get:function(){return i.extractDatabaseId}}),Object.defineProperty(a,"extractPageId",{enumerable:!0,get:function(){return i.extractPageId}}),Object.defineProperty(a,"extractBlockId",{enumerable:!0,get:function(){return i.extractBlockId}})},10044,e=>{"use strict";var t=e.i(47909),a=e.i(74017),r=e.i(96250),o=e.i(59756),s=e.i(61916),i=e.i(14444),n=e.i(10680),u=e.i(69741),l=e.i(16795),d=e.i(87718),c=e.i(95169),p=e.i(47587),h=e.i(66012),m=e.i(70101),y=e.i(74838),P=e.i(10372),b=e.i(93695);e.i(52474);var g=e.i(220),f=e.i(28749),_=e.i(89171);let v=new f.Client({auth:process.env.NOTION_API_KEY});async function q(e){try{let{name:t,email:a,phone:r,company:o,message:s}=await e.json(),i=process.env.NOTION_DATABASE_ID;if(!i)return _.NextResponse.json({error:"Database ID missing"},{status:500});let n=await v.pages.create({parent:{database_id:i},properties:{Name:{title:[{text:{content:t}}]},Email:{email:a},Phone:{phone_number:r},Company:{rich_text:[{text:{content:o||""}}]},Message:{rich_text:[{text:{content:s}}]}}});return _.NextResponse.json({success:!0,id:n.id})}catch(e){return console.error("Notion API Error:",e),_.NextResponse.json({error:"Failed to submit",details:e.message},{status:500})}}e.s(["POST",()=>q],91242);var k=e.i(91242);let R=new t.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/contact/route",pathname:"/api/contact",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/api/contact/route.ts",nextConfigOutput:"",userland:k}),{workAsyncStorage:E,workUnitAsyncStorage:C,serverHooks:w}=R;function T(){return(0,r.patchFetch)({workAsyncStorage:E,workUnitAsyncStorage:C})}async function D(e,t,r){R.isDev&&(0,o.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let f="/api/contact/route";f=f.replace(/\/index$/,"")||"/";let _=await R.prepare(e,t,{srcPage:f,multiZoneDraftMode:!1});if(!_)return t.statusCode=400,t.end("Bad Request"),null==r.waitUntil||r.waitUntil.call(r,Promise.resolve()),null;let{buildId:v,params:q,nextConfig:k,parsedUrl:E,isDraftMode:C,prerenderManifest:w,routerServerContext:T,isOnDemandRevalidate:D,revalidateOnlyGenerated:S,resolvedPathname:I,clientReferenceManifest:x,serverActionsManifest:U}=_,O=(0,u.normalizeAppPath)(f),j=!!(w.dynamicRoutes[O]||w.routes[I]),F=async()=>((null==T?void 0:T.render404)?await T.render404(e,t,E,!1):t.end("This page could not be found"),null);if(j&&!C){let e=!!w.routes[I],t=w.dynamicRoutes[O];if(t&&!1===t.fallback&&!e){if(k.experimental.adapterPath)return await F();throw new b.NoFallbackError}}let A=null;!j||R.isDev||C||(A="/index"===(A=I)?"/":A);let N=!0===R.isDev||!j,$=j&&!N;U&&x&&(0,i.setReferenceManifestsSingleton)({page:f,clientReferenceManifest:x,serverActionsManifest:U,serverModuleMap:(0,n.createServerModuleMap)({serverActionsManifest:U})});let B=e.method||"GET",L=(0,s.getTracer)(),M=L.getActiveScopeSpan(),H={params:q,prerenderManifest:w,renderOpts:{experimental:{authInterrupts:!!k.experimental.authInterrupts},cacheComponents:!!k.cacheComponents,supportsDynamicResponse:N,incrementalCache:(0,o.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:k.cacheLife,waitUntil:r.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,a,r)=>R.onRequestError(e,t,r,T)},sharedContext:{buildId:v}},z=new l.NodeNextRequest(e),W=new l.NodeNextResponse(t),V=d.NextRequestAdapter.fromNodeNextRequest(z,(0,d.signalFromNodeResponse)(t));try{let i=async e=>R.handle(V,H).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let a=L.getRootSpanAttributes();if(!a)return;if(a.get("next.span_type")!==c.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${a.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let r=a.get("next.route");if(r){let t=`${B} ${r}`;e.setAttributes({"next.route":r,"http.route":r,"next.span_name":t}),e.updateName(t)}else e.updateName(`${B} ${f}`)}),n=!!(0,o.getRequestMeta)(e,"minimalMode"),u=async o=>{var s,u;let l=async({previousCacheEntry:a})=>{try{if(!n&&D&&S&&!a)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let s=await i(o);e.fetchMetrics=H.renderOpts.fetchMetrics;let u=H.renderOpts.pendingWaitUntil;u&&r.waitUntil&&(r.waitUntil(u),u=void 0);let l=H.renderOpts.collectedTags;if(!j)return await (0,h.sendResponse)(z,W,s,H.renderOpts.pendingWaitUntil),null;{let e=await s.blob(),t=(0,m.toNodeOutgoingHttpHeaders)(s.headers);l&&(t[P.NEXT_CACHE_TAGS_HEADER]=l),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let a=void 0!==H.renderOpts.collectedRevalidate&&!(H.renderOpts.collectedRevalidate>=P.INFINITE_CACHE)&&H.renderOpts.collectedRevalidate,r=void 0===H.renderOpts.collectedExpire||H.renderOpts.collectedExpire>=P.INFINITE_CACHE?void 0:H.renderOpts.collectedExpire;return{value:{kind:g.CachedRouteKind.APP_ROUTE,status:s.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:a,expire:r}}}}catch(t){throw(null==a?void 0:a.isStale)&&await R.onRequestError(e,t,{routerKind:"App Router",routePath:f,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:$,isOnDemandRevalidate:D})},T),t}},d=await R.handleResponse({req:e,nextConfig:k,cacheKey:A,routeKind:a.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:w,isRoutePPREnabled:!1,isOnDemandRevalidate:D,revalidateOnlyGenerated:S,responseGenerator:l,waitUntil:r.waitUntil,isMinimalMode:n});if(!j)return null;if((null==d||null==(s=d.value)?void 0:s.kind)!==g.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==d||null==(u=d.value)?void 0:u.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});n||t.setHeader("x-nextjs-cache",D?"REVALIDATED":d.isMiss?"MISS":d.isStale?"STALE":"HIT"),C&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let c=(0,m.fromNodeOutgoingHttpHeaders)(d.value.headers);return n&&j||c.delete(P.NEXT_CACHE_TAGS_HEADER),!d.cacheControl||t.getHeader("Cache-Control")||c.get("Cache-Control")||c.set("Cache-Control",(0,y.getCacheControlHeader)(d.cacheControl)),await (0,h.sendResponse)(z,W,new Response(d.value.body,{headers:c,status:d.value.status||200})),null};M?await u(M):await L.withPropagatedContext(e.headers,()=>L.trace(c.BaseServerSpan.handleRequest,{spanName:`${B} ${f}`,kind:s.SpanKind.SERVER,attributes:{"http.method":B,"http.target":e.url}},u))}catch(t){if(t instanceof b.NoFallbackError||await R.onRequestError(e,t,{routerKind:"App Router",routePath:O,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:$,isOnDemandRevalidate:D})}),j)throw t;return await (0,h.sendResponse)(z,W,new Response(null,{status:500})),null}}e.s(["handler",()=>D,"patchFetch",()=>T,"routeModule",()=>R,"serverHooks",()=>w,"workAsyncStorage",()=>E,"workUnitAsyncStorage",()=>C],10044)}];

//# sourceMappingURL=node_modules_d1485071._.js.map